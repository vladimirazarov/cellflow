# cellflow

This program (`cellflow`) simulates traffic flow using cellular automata, implemented in C++. It includes a script to plot the relationship between traffic density and flow based on the simulation output.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites

**For the Simulation:**
*   A C++ compiler supporting C++11 (e.g., GCC, Clang)
*   GNU Make

**For Plotting:**
*   Python 3
*   Pip (Python package installer)

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd <repository-directory>
    ```
2.  **Compile the simulation:**
    Open a terminal in the project root directory (where the `Makefile` is located) and run:
    ```bash
    make
    ```
    This compiles `src/sim.cpp` and creates an executable named `road` in the root directory.

3.  **Install Python dependencies:**
    Navigate to the scripts directory and install the required packages:
    ```bash
    cd scripts
    pip install -r requirements.txt
    cd ..
    ```

## Usage

### Running the Simulation

To run the simulation with default parameters or see available options, execute the compiled program from the project root directory:

```bash
./road
```
or
```bash
./road --help
```

The simulation will produce an output file named `out.txt` in the project root directory, containing flow and density data.

### Generating Plots

After running the simulation and generating `out.txt`, you can visualize the results:

1.  Make sure you are in the project root directory.
2.  Run the plotting script:
    ```bash
    python scripts/gen.py
    ```
    Alternatively, you can use the Makefile target:
    ```bash
    make plot
    ```
    This will display a plot showing the relationship between traffic density and flow.

## Project Structure

```
.
├── .gitignore        # Specifies intentionally untracked files that Git should ignore
├── LICENSE           # Project license file (GPLv3)
├── Makefile          # Contains build and helper commands (compile, clean, zip, plot)
├── README.md         # This file
├── doc/              # Documentation files (if any)
├── scripts/
│   ├── gen.py        # Python script for generating plots
│   └── requirements.txt # Python dependencies for gen.py
├── src/
│   └── sim.cpp       # C++ source code for the simulation
└── road              # Compiled executable (generated by 'make', ignored by Git)
└── out.txt           # Simulation output data (generated by './road', ignored by Git)
```

## License

This project is licensed under the GNU General Public License v3.0 - see the [LICENSE](LICENSE) file for details.

## Authors

*   Vladimir Azarov